<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='UTF-8' />
  <meta http-equiv='X-UA-Compatible' content='IE=edge' />
  <meta name='viewport' content='width=device-width, initial-scale=1.0' />
  <title>Links for Posts</title>
  <style>
    body {
      font-family: -apple-system, blinkmacsystemfont, 'segoe ui', 'roboto', 'oxygen',
        'ubuntu', 'cantarell', 'fira sans', 'droid sans', 'helvetica neue',
        sans-serif;
      text-align: center;
      align-items: center;
    }

    table {
      /* background-color: grey; */
      margin-left: auto;
      margin-right: auto;
    }

    #ascenOrdescenBtn {
      margin: 1em;
    }

    #ascenOrdescenLable {
      background-color: lightgray;
      border-radius: 1em;
      padding: 0.6em;
    }

    #audioDiv {
      margin: 1em;
      align-items: center;
      text-align: center;
    }
  </style>
</head>

<body>
  <h1>All Links of Tracks Posted on <a href='https://www.instagram.com/keertan101'>Keertan101</a></h1>

  <div id="audioDiv">
    <!-- <audio style="display:block" controls></audio> -->
  </div>

  <label for='pickKeertani'>Choose a Keertani:</label>
  <select id='pickKeertani' onchange="displayData()">
    <option value='all'>All</option>
  </select>


  <div id='ascenOrdescenBtn'>
    <button id='ascenOrdescenLable' onclick='toggle_order()' for='ascenOrdescen'>Descending</button>
  </div>

  <table>
    <thead>
      <tr>
        <th>Post #</th>
        <th>Pangti with Link</th>
        <th>Timestamp</th>
        <th>Keertani</th>
      </tr>
    </thead>
    <tbody id='putData'>
    </tbody>
  </table>
</body>

serverStuff/addLinks.php
<script type='text/javascript' src='http://45.76.2.28/keertan101Links/serverStuff/data.js'></script>
<script>
  const tbody = document.getElementById('putData');
  let theOrder = 'descen'

  function displayData() {
    tbody.innerHTML = ''; //remove anychildern
    let theData = theOrder == 'ascen' ? DATA : [...DATA].reverse()

    const opt = document.getElementById('pickKeertani').value
    theData = theData.filter((item) => {
      if (opt == "all") {
        return item
      } else if (opt == item.keertani) {
        return item
      }
    })


    for (let i = 0; i < theData.length; i++) {
      const {pangti, time, link, postNum, keertani, img} = theData[i]

      const tr = document.createElement('tr')
      const th = document.createElement('th')
      const td1 = document.createElement('td')
      const td2 = document.createElement('td')
      const td3 = document.createElement('td')

      th.innerText = postNum
      /* td1.innerText = pangti; */
      td1.innerHTML = `<a target='_blank' href=${link} > ${pangti}</a>`;
      td2.innerText = time;
      td3.innerText = keertani;

      tr.appendChild(th);
      tr.appendChild(td1);
      tr.appendChild(td2);
      tr.appendChild(td3);

      /* console.log(tr) */
      tbody.appendChild(tr)
    }
  }

  function toggle_order() {
    const btn = document.getElementById('ascenOrdescenLable');
    if (btn.innerText == 'Ascending') {
      theOrder = 'descen'
      displayData()
      btn.innerText = 'Descending'
    } else if (btn.innerText == 'Descending') {
      theOrder = 'ascen'
      displayData()
      btn.innerText = 'Ascending'
    }
  }

  function putOptions() {
    const allKeertanis = []
    DATA.forEach((track) => {
      if (!allKeertanis.includes(track.keertani)) {
        allKeertanis.push(track.keertani)
      }
    })

    const select = document.getElementById('pickKeertani')
    for (const keertani of allKeertanis) {
      const opt = document.createElement('option')
      opt.setAttribute('value', keertani)
      opt.innerText = keertani
      select.appendChild(opt)
    }
  }

  putOptions()
  displayData()
</script>

</html>
